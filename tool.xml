<?xml version="1.0"?>
<run>
    <tool>
        <title>Mass Fraction over Time</title>
        <about>A tool to plot Mass Fraction versus Time.</about>
        <command>@tool/compute_species_mass_fraction @driver</command>
    </tool>
    <input>
    <group id="model">
	<about>
		<label>Model Parameters</label>
	</about>
	<number id="k">
	    <about>
		<label>Infall Parameter</label>
		<description>Enter the infall parameter.</description>
	    </about>
            <default>1</default>
            <min>0</min>
            <max>5</max>
	</number>
	<number id="delta">
            <about>
                <label>Delta</label>
                <description>Enter the infall Delta.</description>
            </about>
            <default>0.1</default>
            <min>0.00001</min>
            <max>10</max>
        </number>
	<number id="mass">
	    <about>
		<label>Initial Mass</label>
		<description>Initial mass of gas in disk or solar annulus</description>
	    </about>
	    <default>10000000000</default>
	</number>
	<number id="fraction">
            <about>
                <label>Gas Fraction</label>
                <description>Enter the Gas Fraction at some time t.</description>
            </about>
            <default>0.15</default>
            <min>0.00001</min>
            <max>0.99999</max>
        </number>
        <number id="time">
            <about>
                <label>Time</label>
                <description>Enter the time at which the gas fraction was recorded.</description>
            </about>
            <default>12</default>
            <min>1</min>
            <max>50</max>
        </number>

	<number id="alpha">
            <about>
                <label>Alpha</label>
                <description>Enter the primary species yield parameter.</description>
            </about>
            <default>0.012</default>
            <min>0.00001</min>
        </number>
    </group>
    <group id="species">
	<about>
		<label>Species Specific Data</label>
	</about>
	<string id="species">
            <about>
                <label>Species</label>
                <description>Enter the isotope and its mass (ex. al27 is Aluminum with 13 protons and 14 neutrons) </description>
            </about>
	    <default>al27</default>
        </string>       
	<number id="decay_rate">
            <about>
                <label>Decay Rate</label>
                <description>Species decay rate (per Gyr).</description>
            </about>
	    <default>0</default>
        </number>
	<choice id ="coeff">
	    <about>
		<label>Order</label>
		<description>Which coefficients would you like to use?</description>
	    </about>
	    <option id="1">
		<about>
		    <label>alpha_i</label>
		    <description>Use only the first order parameter, alpha_i</description>
		</about>
	    </option>
	    <option id="2">
		<about>
		    <label>beta_i</label>
		    <description>Use only the second order parameter, beta_i</description>
		</about>
	    </option>
	    <option id="3">
		<about>
		    <label>both</label>
		    <description>Use both the first and second order parameters, alpha_i and beta_i</description>
		</about>
	    </option>
	    <default>alpha_i</default>
	</choice>
        <number id="alpha_i">
            <about>
                <label>Alpha_i</label>
                <description>Enter the species yield parameter.</description>
		<enable>input.group(species).choice(coeff) != "beta_i"</enable>
            </about>
            <default>0.000017</default>
        </number>
	<number id="beta_i">
	    <about>
		<label>Beta_i</label>
		<description>Enter the second species yield parameter</description>
		<enable>input.group(species).choice(coeff) != "alpha_i"</enable>
	    </about>	   
	    <default>0.0021</default>
	</number>
      </group>
      </input>
      <output>
	  <curve id="tx">
    	     <about>
	       <label>Mass Fraction over time</label>
	       <description>Change in species mass fraction with changes in Time</description>
	     </about>
	     <xaxis>
	       <label>t</label>
	       <description>Time</description>
	       <units>Gyr</units>
	     </xaxis>
	     <yaxis>
	       <label>X</label>
	       <description>Mass Fraction</description>
	       <units></units>
             </yaxis>
          </curve>
	  <string id="omega">
		<about>
		   <label>Omega</label>
		</about>
	  </string>
	  <curve id="infall">
	    <about>
		<label>Infall Rate over Time</label>
		<description></description>
	    </about>
	    <xaxis>
		<label>t</label>
		<description>Time</description>
		<units>Gyr</units>
	    </xaxis>
	    <yaxis>
               <label>k</label>
               <description>Infall Rate</description>
            </yaxis>
	  </curve>
          <curve id="total">
            <about>
                <label>Total Mass over Time</label>
                <description></description>
            </about>
            <xaxis>
                <label>t</label>
                <description>Time</description>
                <units>Gyr</units>
            </xaxis>
            <yaxis>
               <label>M</label>
               <description>Total Mass</description>
	       <units>kg</units>
            </yaxis>
          </curve>
          <curve id="star">
            <about>
                <label>Star Mass over Time</label>
                <description></description>
            </about>
            <xaxis>
                <label>t</label>
                <description>Time</description>
                <units>Gyr</units>
            </xaxis>
            <yaxis>
               <label>M</label>
               <description>Star Mass</description>
	       <units>kg</units>
            </yaxis>
          </curve>
          <curve id="gas">
            <about>
                <label>Gas Mass over Time</label>
                <description></description>
            </about>
            <xaxis>
                <label>t</label>
                <description>Time</description>
                <units>Gyr</units>
            </xaxis>
            <yaxis>
               <label>M</label>
               <description>Gas Mass</description>
	       <units>kg</units>
            </yaxis>
          </curve>
      </output>
</run>
